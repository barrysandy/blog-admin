<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<!-- Mirrored from www.zi-han.net/theme/hplus/table_basic.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:20:01 GMT -->
	<head>
	
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	
	    <title></title>
	    <meta name="keywords" content="">
	    <meta name="description" content="">
	
	    <link rel="shortcut icon" href="favicon.ico"> 
	    <link th:href="@{/css/bootstrap.min14ed.css?v=3.3.6}" href="css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
	    <link th:href="@{/css/font-awesome.min93e3.css?v=4.4.0}" href="css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
	    <link th:href="@{/css/plugins/iCheck/custom.css}" href="css/plugins/iCheck/custom.css" rel="stylesheet">
	    <link th:href="@{/css/animate.min.css}" href="css/animate.min.css" rel="stylesheet">
	    <link th:href="@{/css/style.min862f.css?v=4.1.0}" href="css/style.min862f.css?v=4.1.0" rel="stylesheet">
	    
	    <!-- BT Css -->
	    <link th:href="@{/plugins/bootstrap-table/dist/bootstrap-table.css}" href="plugins/bootstrap-table/dist/bootstrap-table.css" rel="stylesheet">
	    
	    
	    <!-- 图标 Font Awesome http://fontawesome.dashgame.com/ -->
	    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
	    
	    <!-- Sweet Alert -->
    	<link th:href="@{/css/plugins/sweetalert/sweetalert.css}" href="css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
	    
	</head>
	
	<body class="gray-bg">
		<input type="hidden" id="path" th:value="${app_path }" />
	    <div class="wrapper wrapper-content animated fadeInRight">
	        <div class="row">
	            <div class="col-sm-12">
	                <div class="ibox float-e-margins">
						<div class="ibox-title">
				            <h5>菜单列表 </h5>
				            <div class="ibox-tools">
				                <a class="collapse-link" title="折叠">
				                    <i class="fa fa-chevron-up"></i>
				                </a>
				                <a class="dropdown-toggle" data-toggle="dropdown" href="form_basic.html#" title="操作">
				                    <i class="fa fa-wrench"></i>
				                </a>
				                <ul class="dropdown-menu dropdown-user">
				                    <li><a href="javascript:window.location.reload()">刷新</a></li>
				                </ul>
				            </div>
				        </div>
	                    <div class="ibox-content">
							<button class="btn btn-white" type="submit">新增</button>
							<button class="btn btn-white" type="submit">编辑</button>
							<button class="btn btn-white" type="submit">删除</button>
	                        <table class="table table-striped table-bordered table-hover dataTables-example">
	                            <thead>
	                                <tr>
	                                    <th>
	                                    	<input type="checkbox" class="i-checks" name="input[]">
	                                    </th>
	                                    <th>菜单ID</th>
	                                    <th>菜单名称</th>
	                                    <th>父菜单</th>
	                                    <th>菜单URL</th>
	                                    <th>排序</th>
	                                    <th>菜单描述</th>
	                                    <th>操作</th>
	                                </tr>
	                            </thead>
	                            <tbody>
	                                <tr class="gradeX" th:each="i:${listAll}">
	                                    <th>
	                                    	<input type="checkbox" class="i-checks" name="input[]">
	                                    </th>
	                                    <th th:text="${i.id}">菜单ID</th>
	                                    <th th:if="${i.parentId} == '0'" th:utext="${i.name}">菜单名称</th>
	                                    <th th:if="${i.parentId} != '0'" th:utext="${'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▶ ' + i.name}">菜单名称</th>
	                                    <th th:text="${i.parentId}"></th>
	                                    <th th:text="${i.url}">菜单URL</th>
	                                    <th th:text="${i.sort}">排序</th>
	                                    <th th:text="${i.descM}">菜单描述</th>
	                                    <th style="width: 12%;">
	                                    	<a onclick="del(' + i.id + ')">编辑</a>
	                                    	<a onclick="del(' + i.id + ')">删除</a>
										</th>
	                                </tr>
	                                
	                            </tbody>
	                        </table>
	
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	    <script th:src="@{/js/jquery.min.js?v=2.1.4}" src="js/jquery.min.js?v=2.1.4"></script>
	    <script th:src="@{/js/bootstrap.min.js?v=3.3.6}" src="js/bootstrap.min.js?v=3.3.6"></script>
	    <script th:src="@{/js/plugins/jeditable/jquery.jeditable.js}" src="js/plugins/jeditable/jquery.jeditable.js"></script>
	    <script th:src="@{/js/plugins/dataTables/jquery.dataTables.js}" src="js/plugins/dataTables/jquery.dataTables.js"></script>
	    <script th:src="@{/js/plugins/dataTables/dataTables.bootstrap.js}" src="js/plugins/dataTables/dataTables.bootstrap.js"></script>
	    <script th:src="@{/js/content.min.js?v=1.0.0}" src="js/content.min.js?v=1.0.0"></script>
	    
	    <!-- BT Js -->
	    <script th:src="@{/plugins/bootstrap-table/dist/bootstrap-table.js}" src="plugins/bootstrap-table/dist/bootstrap-table.js"></script>
	    <script th:src="@{/plugins/bootstrap-table/dist/locale/bootstrap-table-zh-CN.js}" src="plugins/bootstrap-table/dist/locale/bootstrap-table-zh-CN.js"></script>
	    
	    <!-- Sweet Alert -->
	    <script th:src="@{/js/plugins/sweetalert/sweetalert.min.js}" src="js/plugins/sweetalert/sweetalert.min.js"></script>
	    
		<script type="text/javascript">
		var path = $("#path").val() + "/menu/lists";
		function update(id){
			window.location.href = $("#path").val() + "/menu/toUpdate?id=" + id; 
		}
		
		function del(id){
			swal({
		        title: "您确定要删除这条信息吗",
		        text: "删除后将无法恢复，请谨慎操作！",
		        type: "warning",
		        showCancelButton: true,
		        confirmButtonColor: "#DD6B55",
		        confirmButtonText: "删除",
		        closeOnConfirm: false
		    }, function () {
		    	var url = $("#path").val() + "/menu/del";
		    	$.get(url,{'id':id,},function(result){
	                if(result > 0){
	                	swal("删除成功！", "您已经永久删除了这条信息。", "success");
	                	setTimeout(window.location.reload(), 2000)
	                	
	                }else{
	                	swal("删除失败！", "您已经永久删除了这条信息。", "success");
	                	setTimeout(window.location.reload(), 2000)
	                }
	            });
		        
		    });

		}
		
		</script>
	</body>
</html>