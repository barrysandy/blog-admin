<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<!-- Mirrored from www.zi-han.net/theme/hplus/table_basic.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:20:01 GMT -->
	<head>
	
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	
	    <title></title>
	    <meta name="keywords" content="">
	    <meta name="description" content="">
	
	    <link rel="shortcut icon" href="favicon.ico"> 
	    <link th:href="@{/css/bootstrap.min14ed.css?v=3.3.6}" href="css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
	    <link th:href="@{/css/font-awesome.min93e3.css?v=4.4.0}" href="css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
	    <link th:href="@{/css/plugins/iCheck/custom.css}" href="css/plugins/iCheck/custom.css" rel="stylesheet">
	    <link th:href="@{/css/animate.min.css}" href="css/animate.min.css" rel="stylesheet">
	    <link th:href="@{/css/style.min862f.css?v=4.1.0}" href="css/style.min862f.css?v=4.1.0" rel="stylesheet">
	    
	    <!-- BT Css -->
	    <link th:href="@{/plugins/bootstrap-table/dist/bootstrap-table.css}" href="plugins/bootstrap-table/dist/bootstrap-table.css" rel="stylesheet">
	    
	    <!-- Sweet Alert -->
    	<link th:href="@{/css/plugins/sweetalert/sweetalert.css}" href="css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
	    
	</head>
	
	<body class="gray-bg">
		<input type="hidden" id="path" th:value="${app_path }" />
		<input type="hidden" id="lord" th:value="${lord }" />
	    <div class="wrapper wrapper-content animated fadeInRight">
	        <div class="row">
	            <div class="col-sm-12">
	                <div class="ibox float-e-margins">
						<div class="ibox-title">
				            <h5>菜单列表 </h5>
				            <div class="ibox-tools">
				                <a class="collapse-link" title="折叠">
				                    <i class="fa fa-chevron-up"></i>
				                </a>
				                <a class="dropdown-toggle" data-toggle="dropdown" href="form_basic.html#" title="操作">
				                    <i class="fa fa-wrench"></i>
				                </a>
				                <ul class="dropdown-menu dropdown-user">
				                    <li><a href="javascript:window.location.reload()">刷新</a></li>
				                </ul>
				            </div>
				        </div>
	                    <div class="ibox-content">
							<button  class="btn btn-white" type="button" onclick="add(0)">新增</button>
	                        <table class="table table-striped table-bordered table-hover dataTables-example">
	                            <thead>
	                                <tr>
	                                    <th>
	                                    	<input type="radio" checked class="i-checks" name="inputs" value="0">
	                                    </th>
	                                    <th>菜单名称</th>
	                                    <th>菜单图标</th>
	                                    <th>菜单URL</th>
	                                    <th>排序</th>
	                                    <th>菜单描述</th>
	                                    <th>操作</th>
	                                </tr>
	                            </thead>
	                            <tbody>
	                                <tr class="gradeX" th:each="i:${listAll}">
	                                    <th>
	                                    	<input type="radio" class="i-checks" name="inputs" th:value="${i.id}">
	                                    </th>
	                                    <th th:if="${i.parentId} == '0'" th:utext="${i.name}">菜单名称</th>
	                                    <th th:if="${i.parentId} == '0'" th:utext="${i.icon}">菜单图标</th>
	                                    <th th:if="${i.parentId} == '0'" th:utext="${i.url}">菜单URL</th>
	                                    <th th:if="${i.parentId} == '0'" th:utext="${i.sort}">排序</th>
	                                    <th th:if="${i.parentId} == '0'" th:utext="${i.descM}">菜单描述</th>
	                                    
	                                    <th th:if="${i.parentId} != '0'" th:utext="${'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▶ ' + i.name}">菜单名称</th>
	                                    <th th:if="${i.parentId} != '0'" th:utext="${'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▶ ' + i.icon}">菜单名称</th>
	                                    <th th:if="${i.parentId} != '0'" th:utext="${'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▶ ' + i.url}">菜单URL</th>
	                                    <th th:if="${i.parentId} != '0'" th:utext="${'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▶ ' + i.sort}">排序</th>
	                                    <th th:if="${i.parentId} != '0'" th:utext="${'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;▶ ' + i.descM}">菜单描述</th>
	                                    
	                                    <th style="width: 12%;">
		                                    <a class="btn btn-primary" type="button" th:onclick="'add('+${i.id}+')' " style="padding:2px;">编辑</a>
		                                    <a class="btn btn-white" type="button" th:onclick="'del('+${i.id}+')' "  style="padding:2px;">删除</a>
										</th>
	                                </tr>
	                                
	                            </tbody>
	                        </table>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>


	    <script th:src="@{/js/jquery.min.js?v=2.1.4}" src="js/jquery.min.js?v=2.1.4"></script>
	    <script th:src="@{/js/bootstrap.min.js?v=3.3.6}" src="js/bootstrap.min.js?v=3.3.6"></script>
	    <script th:src="@{/js/plugins/jeditable/jquery.jeditable.js}" src="js/plugins/jeditable/jquery.jeditable.js"></script>
	    <script th:src="@{/js/plugins/dataTables/jquery.dataTables.js}" src="js/plugins/dataTables/jquery.dataTables.js"></script>
	    <script th:src="@{/js/plugins/dataTables/dataTables.bootstrap.js}" src="js/plugins/dataTables/dataTables.bootstrap.js"></script>
	    <script th:src="@{/js/content.min.js?v=1.0.0}" src="js/content.min.js?v=1.0.0"></script>
	    
	    <!-- BT Js -->
	    <script th:src="@{/plugins/bootstrap-table/dist/bootstrap-table.js}" src="plugins/bootstrap-table/dist/bootstrap-table.js"></script>
	    <script th:src="@{/plugins/bootstrap-table/dist/locale/bootstrap-table-zh-CN.js}" src="plugins/bootstrap-table/dist/locale/bootstrap-table-zh-CN.js"></script>
	    
	    <!-- Sweet Alert -->
	    <script th:src="@{/js/plugins/sweetalert/sweetalert.min.js}" src="js/plugins/sweetalert/sweetalert.min.js"></script>
        
        <!-- layui -->
    	<script th:src="@{/js/layui/plugins/layer/layer.min.js}"></script>
    	<script th:src="@{/js/layui/layui.js}"></script>
    	<script th:src="@{/js/layui/layuiUtil.js}"></script>
	    
	    
		<script type="text/javascript">
		$(function() {// 初始化内容
			var lord = $("#lord").val();
			if(lord == 1 || lord == "1" ){
				window.parent.location.reload();
	            var index = parent.layer.getFrameIndex(window.name);
	            parent.layer.close(index);
			}
	    }); 
		var path = "lists";
		function update(id){
			window.location.href = "toUpdate?id=" + id; 
		}
		
		function add(id){
			var parentId = $("input[name='inputs']:checked").val();
            layer.open({
                type: 2,
                title: '新增',
                skin: 'layui-layer-rim',
                area: ['50%', '85%'],
                content: 'toUpdate?id='+ id + '&parentId=' + parentId
            });
        }
		
		function del(id){
			layer.open({
                type: 1,
                title: '提示',
                skin: 'layui-layer-rim',
                area: ['400px', '235px'],
                content: '<div style="padding: 42px 112px; font-size: 16px; color: #808080;" >您确定要删除这条信息吗?</div>',
                btn: ['确认','取消'],
                yes: function(){
                    var url = "del";
    		    	$.get(url,{'id':id,},function(result){
    	                if(result > 0){
    	                	deleted();
    	                }else{
    	                	layer.closeAll();
    	                }
    	            });
                },
                btn2: function(){
                    console.log('no');
                }
            });
		}
		
		function deleted() {
			layer.open({
                type: 1,
                title: '删除',
                skin: 'layui-layer-rim',
                area: ['400px', '235px'],
                content: '<div style="padding: 42px 112px; font-size: 16px; color: #808080;" >删除成功</div>',
                btn: ['关闭'],
                btn2: function(){
                    layer.closeAll();
                    location.reload();
                },
                end: function () {
                    location.reload();
                }
            });
        }
		
		</script>
	</body>
</html>